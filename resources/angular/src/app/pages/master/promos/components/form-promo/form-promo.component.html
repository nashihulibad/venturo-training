<form>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group row">
                <label class="col-md-4 required">Nama</label>
                <div class="col-md-8">
                    <input
                        [(ngModel)]="formModel.nama"
                        type="text"
                        name="nama"
                        class="form-control"
                        placeholder="Nama Item / Menu"
                    />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-md-4 required">Type</label>
                <div class="col-md-8">
                    <div
                        class="btn-group"
                        role="group"
                        ngbRadioGroup
                        name="type"
                        [(ngModel)]="formModel.type"
                    >
                        <label ngbButtonLabel class="btn-info">
                            <input
                                ngbButton
                                type="radio"
                                class="btn-check"
                                value="diskon"
                            />
                            Diskon
                        </label>
                        <label ngbButtonLabel class="btn-info">
                            <input
                                ngbButton
                                type="radio"
                                class="btn-check"
                                value="voucher"
                            />
                            Voucher
                        </label>
                    </div>
                </div>
            </div>
            <div *ngIf="formModel.type == 'diskon'" class="form-group row">
                <label class="col-md-4 required">Diskon</label>
                <div class="col-md-8">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">%</span>
                        </div>
                        <input
                            [(ngModel)]="formModel.diskon"
                            type="number"
                            name="diskon"
                            class="form-control"
                            placeholder="Diskon dalam persen"
                        />
                    </div>
                </div>
            </div>
            <div *ngIf="formModel.type == 'voucher'" class="form-group row">
                <label class="col-md-4 required">Nominal</label>
                <div class="col-md-8">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text">Rp</span>
                        </div>
                        <input
                            [(ngModel)]="formModel.nominal"
                            type="number"
                            name="nominal"
                            class="form-control"
                            placeholder="Nominal dalam rupiah"
                        />
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-md-4 required">Syarat dan Ketentuan</label>
                <div class="col-md-8">
                    <textarea
                        class="form-control"
                        [(ngModel)]="formModel.syarat_ketentuan"
                        name="syarat_ketentuan"
                        placeholder="Tuliskan syarat ketentuan"
                        rows="3"
                    ></textarea>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-md-4 required">Gambar</label>
                <div class="col-md-8">
                    <div class="input-group">
                        <div class="custom-file">
                            <input
                                class="file"
                                type="file"
                                id="gambar"
                                name="foto"
                                (change)="onFileSelected($event)"
                            />
                        </div>
                    </div>
                </div>
            </div>

            <div class="img-container">
                <img
                    *ngIf="formModel.foto.base64"
                    [src]="formModel.foto.base64"
                    data-holder-rendered="true"
                    class="text-center"
                    width="227px"
                    height="100%"
                />
                <img
                    *ngIf="!formModel.foto.base64"
                    src="{{ formModel.foto }}"
                    data-holder-rendered="true"
                    class="text-center"
                    width="227px"
                    height="100%"
                />
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-group row">
                <label class="col-md-4 required">Kadaluarsa</label>
                <div class="col-md-8">
                    <div
                        class="btn-group"
                        role="group"
                        ngbRadioGroup
                        name="kadaluarsa"
                        [(ngModel)]="formModel.kadaluarsa"
                    >
                        <label ngbButtonLabel class="btn-info">
                            <input
                                ngbButton
                                type="radio"
                                class="btn-check"
                                value="1"
                            />
                            1 Hari
                        </label>
                        <label ngbButtonLabel class="btn-info">
                            <input
                                ngbButton
                                type="radio"
                                class="btn-check"
                                value="7"
                            />
                            7 Hari
                        </label>
                        <label ngbButtonLabel class="btn-info">
                            <input
                                ngbButton
                                type="radio"
                                class="btn-check"
                                value="30"
                            />
                            30 Hari
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="form-group row">
                <div class="col-md-12 text-right">
                    <button
                        type="button"
                        class="btn btn-outline-secondary mr-2"
                        (click)="back()"
                    >
                        Daftar Promo
                    </button>
                    <button
                        type="button"
                        class="btn btn-primary"
                        (click)="save()"
                    >
                        Simpan
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>

<style>
    .file {
        border: 1px solid rgba(50, 50, 50, 0.395);
        border-radius: 5px;
        padding: 5px 10px;
    }

    .img-container {
        width: 100%;
        height: 100px;
        text-align: center;
    }

    .img-container img {
        height: 100%;
    }
</style>
